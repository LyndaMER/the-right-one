<div class="container px-12 mb-25">

<h1 class="text-2xl font-bold mb-4"><%= @audition.name %></h1>
<p class="mb-6"><%= @audition.description %></p>

<%= form_with model: @audition, remote: true, html: { class: 'new_audition', id: 'new_audition'} do |f| %>
  <!-- Nom de l'audition -->
  <div class="mb-4">
     <%= f.label :name, "Nom de l'audition", class: 'block text-gray-700 text-sm font-bold mb-2 bg-red' %>
    <%= f.text_field :name, class: 'w-full px-3 py-2 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline-blue focus:border-blue-300' %>
  </div>

  <!-- Description de l'annonce -->
  <div class="mb-6">
    <%= f.label :description, "Description de l'annonce", class: 'block text-gray-700 text-sm font-bold mb-2 bg-red' %>
    <%= f.text_area :description, placeholder:"Ecris la description de l'audition", class: 'w-full px-3 py-2 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline-blue focus:border-blue-300' %>
  </div>

  <!--------- Required tags -------->
  <div data-controller="tag" class="mb-6">
    <h3 class="text-lg font-semibold mb-2">Critères obligatoires</h3>
    <div data-tag-target="tagfields">
      <div data-tag-target="tagTemplate" class="hidden">
        <!-- Select tags name -->
        <%= select_tag "required_tags[name][]", options_for_select(available_tags), class: 'w-1/2 px-3 py-2 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline-blue focus:border-blue-300 flex-row mr-2 mb-4'%>
        <!-- Input tags value -->
        <input type="text" name="required_tags[value][]" class='w-1/3 px-3 py-2 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline-blue focus:border-blue-300 flex-row mb-4'>
      </div>
    </div>

    <!-- Add tags -->
    <button type="button" data-action="click->tag#addField" class="rounded-full bg-white px-3 py-1.5 text-sm font-semibold text-terracotta-600 shadow-sm ring-1 ring-inset ring-terracotta-600 hover:bg-terracotta-50"> + Ajouter </button>

    <!-- Delete tags -->
    <button type="button" data-action="click->tag#removeField">❌</button>
  </div>

  <!------ Optionnal tags ------->
  <div data-controller="tag" class="mb-6">
    <h3 class="text-lg font-semibold mb-2">Critères secondaires</h3>
    <div data-tag-target="tagfields">
      <div data-tag-target="tagTemplate" class="hidden">
        <!-- Select tags name -->
        <%= select_tag "optional_tags[name][]", options_for_select(available_tags), class: 'w-1/2 px-3 py-2 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline-blue focus:border-blue-300 flex-row mr-2 mb-4' %>
        <!-- Input tags value -->
        <input type="text" name="optional_tags[value][]" class='w-1/3 px-3 py-2 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline-blue focus:border-blue-300 flex-row mb-4'>
      </div>
    </div>

    <!-- Add tags -->
    <button type="button" data-action="click->tag#addField" class="rounded-full bg-white px-3 py-1.5 text-sm font-semibold text-terracotta-600 shadow-sm ring-1 ring-inset ring-terracotta-600 hover:bg-terracotta-50"> +Ajouter </button>

    <!-- Delete tags -->
    <button type="button" data-action="click->tag#removeField">❌</button>
  </div>

  <!-- Submit -->
  <div class="flex">
  <%= f.submit "Soumettre", class: 'rounded-full bg-terracotta-600 px-3 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-terracotta-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-terracotta-600 mb-4 ml-auto'%>
  </div>
<% end %>

  <!-- Lien pour rediriger vers la page d'index après la création -->
  <div class="flex btn bg-brown ">
    <%= link_to 'Retour à la liste des auditions', auditions_path, class: 'text-blue-500 hover:text-blue-700 ml-auto mb-25' %>
  </div>
</div>
